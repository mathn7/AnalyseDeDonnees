<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Sujet TP1 · AnalyseDeDonnees.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.jpg" alt="AnalyseDeDonnees.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">AnalyseDeDonnees.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Accueil</a></li><li class="is-active"><a class="tocitem" href>Sujet TP1</a><ul class="internal"><li><a class="tocitem" href="#Exercice-1-Corrélations-et-contrastes-des-canaux-RVB"><span>Exercice 1 - Corrélations et contrastes des canaux RVB</span></a></li><li><a class="tocitem" href="#Exercice-2-Analyse-en-Composantes-Principales"><span>Exercice 2 - Analyse en Composantes Principales</span></a></li><li><a class="tocitem" href="#Exercice-3-Combinaisons-linéaires-des-trois-canaux-RVB"><span>Exercice 3 - Combinaisons linéaires des trois canaux RVB</span></a></li></ul></li><li><a class="tocitem" href="../sujet_tp2/">Sujet TP2</a></li><li><a class="tocitem" href="../sujet_tp3/">Sujet TP3</a></li><li><a class="tocitem" href="../sujet_tp4/">Sujet TP4</a></li><li><a class="tocitem" href="../fct_index/">Documentation des fonctions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Sujet TP1</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Sujet TP1</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mathn7/AnalyseDeDonnees/blob/master/docs/src/sujet_tp1.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Espaces-de-représentation-des-couleurs"><a class="docs-heading-anchor" href="#Espaces-de-représentation-des-couleurs">Espaces de représentation des couleurs</a><a id="Espaces-de-représentation-des-couleurs-1"></a><a class="docs-heading-anchor-permalink" href="#Espaces-de-représentation-des-couleurs" title="Permalink"></a></h1><h2 id="Exercice-1-Corrélations-et-contrastes-des-canaux-RVB"><a class="docs-heading-anchor" href="#Exercice-1-Corrélations-et-contrastes-des-canaux-RVB">Exercice 1 - Corrélations et contrastes des canaux RVB</a><a id="Exercice-1-Corrélations-et-contrastes-des-canaux-RVB-1"></a><a class="docs-heading-anchor-permalink" href="#Exercice-1-Corrélations-et-contrastes-des-canaux-RVB" title="Permalink"></a></h2><p>Le script <em>exercice_1.jl</em>  lit  l&#39;image <em>autumn.tif</em> codée en RVB (Rouge, Vert, Bleu) et la stocke dans une matrice tridimensionnelle I de taille <em>hauteur</em> <span>$\times$</span> <em>largeur</em> <span>$\times 3 .$</span> On peut séparer cette matrice en trois sousmatrices bidimensionnelles appelées canaux : <span>$\mathrm{R}=\mathrm{I}(\mathrm{i}, \mathrm{j}, 1)$</span> pour le canal rouge, <span>$\mathrm{V}=\mathrm{I}(\mathrm{i}, \mathrm{j}, 2)$</span> pour le canal vert, et  <span>$\mathrm{B}=\mathrm{I}(\mathrm{i}, \mathrm{j}, 3)$</span> pour le canal bleu. Chacun d&#39;entre eux est composé d&#39;entiers compris entre 0 et 255, qui représentent l&#39;intensité lumineuse du pixel situé sur la ligne <span>$\mathrm{i}$</span> et la colonne <span>$\mathrm{j}$</span>.De part leur dénomination, chaque canal apporte donc une part de couleur à l&#39;image, que ce soit du rouge, du vert ou du bleu.</p><p>En affichant les matrices <span>$\mathrm{I},\mathrm{R}, \mathrm{V}$</span> et <span>$\mathrm{B}$</span> sous forme d&#39;images, on peut observer une forte corrélation entre les trois canaux, à part pour les régions très colorées (comme pour l&#39;arbre situé au centre de l&#39;image que l&#39;on ne distingue plus dans le canal bleu par exemple). Dans une seconde fenêtre, les pixels sont considérés comme des points de <span>$\mathbb{R}^{3}$</span> que l&#39;on affiche dans un repère dont les axes correspondent aux trois niveaux de couleur. Ils forment un nuage de forme très allongée suivant plusieurs axes simultanément, ce qui confirme l&#39;observation précédente, à savoir que les trois canaux sont fortement corrélés.</p><p>Complétez ce script de manière à calculer la matrice <span>$\Sigma$</span>, notée par la suite Sigma, de variance/covariance des variables aléatoires correspondant aux trois canaux <span>$\mathrm{R}, \mathrm{V}$</span> et <span>$\mathrm{B}(\text { matrice de taille } 3 \times 3)$</span>  <strong>[Attention]</strong> <span>$\Rightarrow$</span> N&#39;oubliez pas de <strong>centrer</strong> la matrice <span>$X$</span> des données et <strong>sans utiliser</strong> les fonctions <em>var</em> et <em>cov</em> de Julia qui appliquent des prétraitements aux données.</p><p><img src="../assets/cannaux_rvb.png" alt/></p><p>Le <strong>coefficient de corrélation linéaire</strong> <span>$r_{Y Z} \in[-1,1]$</span> entre deux canaux <span>$Y$</span> et <span>$Z$</span> s&#39;écrit sous la forme <span>$r_{Y Z}=\sigma_{Y Z} /\left(\sigma_{Y} * \sigma_{Z}\right),$</span> où <span>$\sigma_{Y}$</span> et <span>$\sigma_{Z}$</span> désignent respectivement l&#39;écart-type de <span>$Y$</span> et de <span>$Z,$</span> et <span>$\sigma_{Y Z}$</span> la covariance entre <span>$Y$</span> et <span>$Z$</span>. D&#39;autre part, la <strong>proportion de contraste</strong> dans le canal <span>$Y$</span> s&#39;écrit sous la forme <span>$c_{Y}=\sigma_{Y}^{2} /\left(\sigma_{R}^{2}+\sigma_{V}^{2}+\sigma_{B}^{2}\right),$</span> où <span>$\sigma_{Y}^{2}$</span> désigne la variance de <span>$Y .$</span> Terminez l&#39;écriture du script exercice_1.jl en calculant les coefficients de corrélation linéaire et les proportions de contraste de cette image (optionnel : utilisez la fonction <em>@printf</em> pour l&#39;affichage).  <strong>[Attention]</strong> <span>$\Rightarrow$</span> Ne confondez pas écart-type et variance.</p><h3 id="Transmission-d’une-image-couleur-par-un-seul-canal"><a class="docs-heading-anchor" href="#Transmission-d’une-image-couleur-par-un-seul-canal">Transmission d’une image couleur par un seul canal</a><a id="Transmission-d’une-image-couleur-par-un-seul-canal-1"></a><a class="docs-heading-anchor-permalink" href="#Transmission-d’une-image-couleur-par-un-seul-canal" title="Permalink"></a></h3><p>Le choix d’un espace de représentation des couleurs s’est posé lorsque les chaı̂nes de télévision sont passées à la couleur, dans les années 1960. En effet, il était inutile de transmettre trois canaux R, V et B aux utilisateurs (encore nombreux) possédant des téléviseurs “noir et blanc” ne pouvant afficher qu’un seul canal. Le principal critère étant de maximiser la proportion de contraste de ce canal unique, suffisait-il de transmettre un des trois canaux R, V ou B choisi arbitrairement ? Utilisez maintenant l’image <em>gantrycrane.png</em>, qui est une image à dominante bleue, dans le script <em>exercice_1.jl</em> et déduisez-en pourquoi cette idée n’aurait pas été acceptable. La conversion d’une image couleur en une image en niveaux de gris consiste en une réduction de dimension et on cherche donc effectuer une Analyse en Composantes Principales (ACP) sur l’image afin de récupérer un maximum d’information sur la première composante principale qui sera la nouvelle image en niveaux de gris</p><h2 id="Exercice-2-Analyse-en-Composantes-Principales"><a class="docs-heading-anchor" href="#Exercice-2-Analyse-en-Composantes-Principales">Exercice 2 - Analyse en Composantes Principales</a><a id="Exercice-2-Analyse-en-Composantes-Principales-1"></a><a class="docs-heading-anchor-permalink" href="#Exercice-2-Analyse-en-Composantes-Principales" title="Permalink"></a></h2><p>Effectuez une copie du script exercice<em>1.jl, de nom exercice</em>2.jl, que vous modifierez de manière à effectuer l’ACP des données contenues dans la matrice X.</p><p>La matrice Sigma de variance/covariance est symétrique et réelle. Elle admet donc une base orthonormée de vecteurs propres. Calculez ses valeurs propres et vecteurs propres à l’aide de l’appel à la fonction :[W,D] = eigen(Sigma). Les valeurs propres de Sigma sont stockées sur la diagonale de la matrice D. Triez  ces valeurs par ordre décroissant, à l’aide la fonction sortperm de Julia (avec l’option <em>rev=true</em> pour un tri décroissant). Les vecteurs propres de Sigma, appelés aussi vecteurs principaux dans le cas de l’ACP, sont stockés sur les trois colonnes de la matrice W. La matrice W est donc orthogonale (son inverse est égale à sa transposée) et constitue la matrice de passage entre le repère RVB et celui des composantes principales. Calculez la matrice C des composantes principales des pixels comme la projection de l’image de départ I par la matrice de passage W. <span>$\\$</span> <strong>[Attention]</strong> <span>$\Rightarrow$</span> N’oubliez pas de trier les colonnes de W pour qu’elles coı̈ncident à nouveau avec leurs valeurs propres de Sigma triées précédemment. <span>$\\$</span> <span>$\\$</span>Affichez les trois colonnes de la matrice C sous forme d’images avec les fonctions reshape et size de Julia. Calculez les coefficients de corrélation linéaire et les proportions de contraste dans le nouveau repère ainsi que la proportion de contraste obtenue par projection sur la première composante principale. Commentez (on pourra également tenter d’analyser le nouveau nuage de points dans l’espace des trois composantes principales).</p><p><img src="../assets/cp_image.png" alt/></p><h2 id="Exercice-3-Combinaisons-linéaires-des-trois-canaux-RVB"><a class="docs-heading-anchor" href="#Exercice-3-Combinaisons-linéaires-des-trois-canaux-RVB">Exercice 3 - Combinaisons linéaires des trois canaux RVB</a><a id="Exercice-3-Combinaisons-linéaires-des-trois-canaux-RVB-1"></a><a class="docs-heading-anchor-permalink" href="#Exercice-3-Combinaisons-linéaires-des-trois-canaux-RVB" title="Permalink"></a></h2><p>Si le critère retenu est celui du contraste, l&#39;ACP est le meilleur moyen pour convertir une image couleur en une image en niveaux de gris. Cependant, la matrice de passage dépend complètement de l&#39;image considérée. Cependant, il n&#39;était pas envisageable, dans les années 1960, d&#39;effectuer une ACP pour chaque image d&#39;une séquence télédiffusée. C&#39;est pourquoi une matrice de passage commune à toutes les images couleur a été choisie.</p><p>En utilisant les deux images <em>autumn.tiff</em> et <em>pears.png</em> dans le script <em>exercice_2.jl</em>, vérifiez que les coordonnées du vecteur propre de Sigma correspondant à sa plus grande valeur propre sont toutes trois très proches de <span>$1 / \sqrt{3} \approx 0,5774$</span>. Cela voudrait dire que la maximisation de la proportion de contraste, c&#39;est-à-dire de la variance, qui caractérise la première composante principale, s&#39;obtient en donnant le même poids aux trois canaux. Bien que cette affirmation soit erronée lorsque la proportion de contraste differe beaucoup d&#39;un canal à l&#39;autre (faites le test sur l&#39;image <em>gantrycrane.png</em>), elle est vraie en moyenne. Donner le même poids aux trois canaux revient à transformer une image couleur en une image en niveaux de gris de la manière la plus intuitive qui soit, à savoir :</p><p><span>$\hspace*{2.5cm}$</span> <span>$I_{nvg}=\frac{1}{3}(R+V+B)$</span></p><p>Pourtant, si l&#39;on regarde en détail la fonction <em>Gray</em> de Julia, qui est spécifiquement conçue pour transformer une image <span>$\mathrm{RVB}$</span> en une image en niveaux de gris, on remarquera qu&#39;elle effectue une autre combinaison linéaire que la simple moyenne des trois canaux (cf. help rgb2gray):</p><p><span>$\hspace*{2.5cm}$</span> <span>$Y=0,2989 R + 0,5870 V + 0,1140 B$</span></p><p>qui disymétrise les canaux <span>$\mathrm{R}, \mathrm{V}$</span> et <span>$\mathrm{B}$</span>, contrairement à (1) . Cela vient du fait que le système visuel humain n&#39;est pas également sensible aux différentes fréquences lumineuses. En particulier, comme sa courbe de sensibilité est maximale dans le vert, le poids du canal V dans (2) est supérieur aux poids des deux autres canaux.</p><p>Effectuez une copie du script <em>exercice_2.jl</em>, de nom <em>exercice_3.jl</em>, que vous modifierez de manière à afficher sur une même figure les quatre images suivantes : l&#39;image couleur d&#39;origine, sa première composante principale, et les deux images correspondant aux combinaisons linéaires (1) et (2). Parmi les trois images en niveaux de gris, laquelle vous semble-t-elle présenter le meilleur contraste? Testez différentes images internes de Matlab: autumn.tif, gantrycrane.png, pears.png, coloredChips.png, etc</p><p><img src="../assets/cp_moy_comb.png" alt/> Figure 3 – De gauche à droite : la 1 ère composante principale de l’image, la moyenne des 3 canaux, la combinaison linéaire proposée par Matlab.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Accueil</a><a class="docs-footer-nextpage" href="../sujet_tp2/">Sujet TP2 »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 22 July 2020 22:40">Wednesday 22 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
